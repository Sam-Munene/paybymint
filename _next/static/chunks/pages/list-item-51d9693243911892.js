(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[398],{56853:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/list-item",function(){return n(35434)}])},94107:function(e,t,n){"use strict";var r=n(85893),s=(n(67294),n(14517));t.Z=function(e){var t=e.coin,n=e.amount;e.currency;return(0,r.jsxs)("div",{className:"flex flex-col items-end justify-end",children:[(0,r.jsx)("p",{className:"text-xs text-gray-500 opacity-80",children:"Price"}),(0,r.jsxs)("div",{className:"flex items-center text-black",children:[(0,r.jsx)(s.Z,{type:t,className:"mr-1.5"}),(0,r.jsx)("span",{className:"pr-3 text-xl",children:n})]})]})}},93459:function(e,t,n){"use strict";n.d(t,{sD:function(){return s}});var r=n(70148),s=(n(40993),function(e){r.Am.error(e,{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"colored"})})},35434:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Z}});var r,s,a,l,o=n(47568),c=n(26042),i=n(10092),u=n(85893),d=n(67294),m=n(25617),x=n(11163),f=n(70794),p=n(14517),b=n(69396),h=n(99534),g=(n(25675),n(76383)),j=(n(94107),function(e){var t=e.item,n=e.id,r=e.btnBuy,s=(0,h.Z)(e,["item","id","btnBuy"]);return(0,u.jsxs)("div",(0,b.Z)((0,c.Z)({},s),{children:[(0,u.jsx)("img",{className:"custom-image",src:t.image,alt:"image-".concat(n),layout:"fill",style:{objectFit:"cover"}}),r?(0,u.jsx)("div",{className:"absolute flex left-4 bottom-32",children:(0,u.jsx)(g.Z,{className:"py-1 text-lg bg-white text-orange px-11 rounded-3xl",children:"Buy"})}):null,t.like?(0,u.jsxs)("div",{className:"absolute flex items-center right-4 bottom-28",children:[(0,u.jsx)("div",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-silver mr-1.5",children:(0,u.jsx)(p.Z,{type:"heart"})}),(0,u.jsx)("span",{className:"text-sm text-rolling-stone",children:Intl.NumberFormat({maximumSignificantDigits:3}).format(t.like)})]}):null]}))}),N=n(43135),v=n(24456),y=n(11434),w=n(64146),k=n(35553),S=n(9669),F=n.n(S),C=n(70148),_=n(93459);function Z(e){var t=e.action,n=void 0===t?"/listing-payment":t,f=(0,x.useRouter)(),b=(0,d.useState)("0"),h=b[0],g=b[1],S=(0,d.useState)(1),Z=S[0],A=S[1],E=(0,d.useState)({}),T=E[0],B=E[1],D=(0,d.useState)(0),H=D[0],O=D[1],I=(0,m.v9)((function(e){return e.user.address})),L=(0,m.v9)((function(e){return e.user.provider})),q=(0,m.v9)((function(e){return e.user.blockchain})),R=(0,x.useRouter)().query.tokenId;(0,d.useEffect)((function(){var e=function(){var e=(0,o.Z)((function(){var e,t,n,o,u,d;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:if(null===L)return[3,7];e=L.getSigner(),"Ethereum"===q?(r=N.xC.tokenContractAddr,s=N.xC.marketplaceContractAddr):"Binance"===q&&(r=N.t4.tokenContractAddr,s=N.t4.marketplaceContractAddr),a=new w.CH(r,v.Z,e),l=new w.CH(s,y.Z,e),i.label=1;case 1:return i.trys.push([1,6,,7]),[4,a.uri(R)];case 2:return t=i.sent(),[4,a.fractionPrice(R)];case 3:return n=i.sent(),console.log("fration price:",n.toString()),console.log("------------frcPrice",k.dF(n)),g(n.toString()),[4,a.balanceOf(I,R)];case 4:return o=i.sent(),O(o.toNumber()),A(o.toNumber()),[4,F().get(t)];case 5:return u=i.sent().data,console.log("metadt--------",u),B((0,c.Z)({},u)),[3,7];case 6:return d=i.sent(),console.log("error",d),[3,7];case 7:return[2]}}))}));return function(){return e.apply(this,arguments)}}();e()}),[R,L,I]);var V,X=(V=(0,o.Z)((function(){var e,t;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:if(h<=0)return(0,_.sD)("Listing price must be bigger than 0"),[2];if(Z>H)return(0,_.sD)("Fraction count exceeed!"),[2];console.log("Creating sale:",R,h,Z,I),r.label=1;case 1:return r.trys.push([1,4,,5]),[4,l.createSale(R,h,Z)];case 2:return[4,r.sent().wait()];case 3:return e=r.sent(),console.log("result:",e),[3,5];case 4:return t=r.sent(),console.log("error:",t),[3,5];case 5:return f.push({pathname:n,query:{tokenId:R,p:h,q:Z}}),[2]}}))})),function(e){e.preventDefault(),V(e)});return(0,u.jsxs)("section",{className:"container mx-auto my-10 justify-center flex gap-4 flex-wrap",children:[(0,u.jsx)(C.Ix,{style:{fontSize:12,padding:"5px !important",lineHeight:"15px"}}),(0,u.jsx)(P,{saleFrcPrice:h,setSaleFrcPrice:g,saleFrcAmount:Z,setSaleFrcAmount:A,handleSubmit:X,totalFraction:H}),(0,u.jsxs)("div",{className:"w-96 border border-orange rounded-xl h-fit",children:[(0,u.jsxs)("div",{className:"flex justify-between items-center p-4",children:[(0,u.jsxs)("div",{className:"flex gap-2",children:[(0,u.jsx)(p.Z,{type:"play"}),(0,u.jsx)("span",{className:"text-cape-cod font-bold text-lg",children:"Preview"})]}),(0,u.jsx)("button",{className:"border rounded-full py-1 px-4 text-orange border-orange",children:"View Full Screen"})]}),(0,u.jsx)("div",{className:"bg-[#f6f6f6] p-4",children:(0,u.jsx)(j,{item:T,id:8,className:"w-[95%] mx-auto h-full rounded-[10px] relative drop-shadow-[0_4px_48px_rgba(183,194,207,0.7)]"})})]})]})}var P=function(e){var t=e.saleFrcPrice,n=(e.setSaleFrcPrice,e.saleFrcAmount),r=e.setSaleFrcAmount,s=e.handleSubmit,a=e.totalFraction;return(0,u.jsxs)("form",{onSubmit:s,className:"bg-[#f6f6f6] rounded-md p-4 flex-1",children:[(0,u.jsx)("h1",{className:"text-2xl font-bold my-3 mb-11 text-[#3a3a3a]",children:"List NFT for sale"}),(0,u.jsxs)("div",{className:"flex flex-col mb-8",children:[(0,u.jsxs)("div",{className:"block text-rolling-stone font-bold mb-2",children:["NFT Available for",(0,u.jsx)("span",{className:"block opacity-70 font-normal mt-1 text-sm",children:"Current NFT price is determined by PayByMint Smart Contract"})]}),(0,u.jsxs)("button",{type:"button",className:"bg-white rounded-md flex items-center gap-2 text-sm p-2 w-fit text-[#9e9e9e]",children:[(0,u.jsx)(p.Z,{type:"ticket"}),(0,u.jsx)("span",{children:"Fixed Price"})]})]}),(0,u.jsxs)("div",{className:"flex flex-col mb-8",children:[(0,u.jsxs)("label",{className:"block text-rolling-stone font-bold mb-2",children:["Listing Price",(0,u.jsx)("span",{className:"block opacity-70 font-normal mt-1 text-sm",children:"Current NFT Value"})]}),(0,u.jsxs)("div",{className:"flex gap-1 ",children:[(0,u.jsx)("select",{className:"px-2 border border-orange rounded",children:(0,u.jsx)("option",{children:"ETH"})}),(0,u.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",type:"string",disabled:!0,value:(0,f.Z)(t).dividedBy((0,f.Z)("1000000000000000000")).toString()})]})]}),(0,u.jsxs)("div",{className:"flex flex-col mb-8",children:[(0,u.jsxs)("label",{className:"block text-rolling-stone font-bold mb-2",children:["No of fractions ( Total : ",a," )",(0,u.jsx)("span",{className:"block opacity-70 font-normal mt-1 text-sm",children:"Select no of fractions to be listed"})]}),(0,u.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",type:"number",onChange:function(e){return r(e.target.value)},value:n,max:a,min:0})]}),(0,u.jsxs)("div",{className:"border-t border-t-[#e6e6e9] pt-8 pb-8 flex",children:[(0,u.jsx)("button",{className:"rounded-md py-2 px-4 bg-orange text-white mr-4 w-44",disabled:0===n,children:"Complete Listing"}),(0,u.jsx)("button",{type:"button",className:"rounded-md py-2 px-4 bg-white border border-[#e7e7f0] text-[#9e9e9e] w-44",children:"Cancel"})]})]})}},40993:function(){}},function(e){e.O(0,[669,794,774,888,179],(function(){return t=56853,e(e.s=t);var t}));var t=e.O();_N_E=t}]);